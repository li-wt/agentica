# Agentica 智能任务拆分 Web 应用启动指南（简化版）

## 🎯 应用概述

简化版Web应用，专注于智能任务处理测试，已移除对话存储功能：

### ✅ 已完成的修改

1. **简化侧边栏设计**
   - 移除对话记录管理功能
   - 保留系统状态显示
   - 添加示例任务快捷按钮
   - 集成清空对话功能

2. **移除对话存储**
   - 删除ChatSessionManager类
   - 去掉会话保存/加载功能
   - 简化底部功能按钮
   - 专注于实时测试体验

3. **统一智能模式**
   - 所有任务都经过意图识别
   - 简单任务直接处理
   - 复杂任务自动拆分

4. **优化用户体验**
   - 更简洁的界面设计
   - 便捷的示例任务选择
   - 清晰的状态显示

## 🛠️ 内置工具集

应用已内置以下工具，会根据任务需求自动调用：

- 🔍 **搜索工具**: 网络搜索、维基百科查询
- 🧮 **计算工具**: 数学计算、Python代码执行
- 📝 **文本工具**: 文本分析、信息提取、格式转换
- 🎲 **随机工具**: 随机数生成、随机选择
- 📁 **文件工具**: 文件读写、文档管理
- 🌤️ **天气工具**: 实时天气查询

## 🚀 启动方式

### 直接启动（推荐）
```bash
# 激活虚拟环境
source venv/bin/activate

# 启动应用在8504端口
streamlit run web_chat_app.py --server.port 8504 --server.address 0.0.0.0
```

### 后台启动
```bash
# 激活虚拟环境
source venv/bin/activate

# 后台启动
nohup streamlit run web_chat_app.py --server.port 8504 --server.address 0.0.0.0 > webapp.log 2>&1 &
```

## 🧠 智能处理流程

### 简单任务处理
1. **意图识别** → 2. **直接处理** → 3. **输出结果**

示例：
- "计算 25 * 36 + 180"
- "今天北京的天气怎么样？"
- "生成5个1-100的随机数"

### 复杂任务处理
1. **意图分析** → 2. **任务规划** → 3. **协同执行** → 4. **结果整合**

示例：
- "分析人工智能在医疗领域的应用现状和发展趋势"
- "制定一个月的健身减肥计划"
- "比较Python和Java的优缺点并推荐学习路径"

## 📊 测试结果

✅ **所有功能测试通过**：
- 意图识别系统正常
- 任务拆分判断正常  
- 基础功能正常
- 特殊指令处理正常
- 智能分解器初始化正常

## 🎯 界面功能

### 🔧 侧边栏功能
- **清空对话**: 重置当前对话
- **系统状态**: 显示LocalChat模型连接状态
- **可用工具**: 查看内置工具说明
- **高级设置**: 调试模式、意图显示等选项
- **示例任务**: 快捷测试不同类型任务

### 📱 主界面功能
- **实时聊天**: 支持多轮对话
- **意图显示**: 可选择显示识别的用户意图
- **流式响应**: 实时显示处理进度
- **思维过程**: 可选择显示AI思考过程

### 🎛️ 底部按钮
- **🔄 重新开始**: 清空对话重新开始
- **📊 查看统计**: 显示当前会话统计信息
- **❓ 帮助**: 显示详细帮助信息

## 🎨 主要特性

### 🧠 智能意图识别
- 自动判断任务复杂度
- 识别所需工具类型
- 选择最佳处理方式

### 🧩 动态任务拆分
- 复杂任务自动分解
- 步骤依赖管理
- 并行执行优化

### 🤖 多Agent协同
- **研究专家**: 信息收集、分析
- **计算专家**: 数据分析、计算
- **写作专家**: 内容创作、编辑
- **工具专家**: 实用工具操作

### 📊 结果智能整合
- 统一输出格式
- 结构化展示
- 实用建议提供

## 💡 使用建议

1. **描述需求时要具体明确**
   - 好的例子："分析比特币价格影响因素并预测未来一周走势"
   - 不好的例子："看看比特币"

2. **善用特殊指令**
   - `@Recent Changes` - 查看最近变更
   - `@Help` - 获取详细帮助

3. **利用示例任务**
   - 在侧边栏点击示例任务快速测试
   - 涵盖简单计算到复杂分析的各种类型

4. **任务类型建议**
   - 简单查询：直接描述即可
   - 复杂分析：提供背景和目标
   - 计划制定：说明时间范围和要求

## 🔧 配置信息

- **LocalChat模型**: http://27.159.93.62:8087/v1
- **启动端口**: 8504
- **存储路径**: `outputs/` 目录（仅用于工作流存储）
- **日志级别**: INFO
- **会话存储**: 已禁用（专注测试）

## 📝 注意事项

1. 确保 LocalChat 模型服务正常运行
2. 虚拟环境必须激活
3. 端口8504不被其他服务占用
4. 网络连接正常（用于搜索功能）
5. 本版本不保存对话记录，刷新页面会清空对话

## 🎉 开始使用

简化版应用已准备就绪！您可以：

1. 启动应用：`streamlit run web_chat_app.py --server.port 8504 --server.address 0.0.0.0`
2. 打开浏览器：`http://192.168.2.2:8504`
3. 开始智能任务测试！

### 快速测试流程

1. **简单任务测试**：
   - 点击侧边栏示例任务中的"计算 25 * 36 + 180"
   - 观察智能识别和直接处理过程

2. **复杂任务测试**：
   - 点击"分析人工智能在医疗领域的应用"
   - 观察任务拆分和多Agent协同过程

3. **自定义测试**：
   - 在输入框中描述自己的需求
   - 体验智能意图识别和处理流程

---

*简化版本完成时间: 2025-07-02 15:50*  
*专注于智能任务处理测试，界面更简洁高效* ✅ 